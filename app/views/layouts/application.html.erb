<!DOCTYPE html>
<html>

  <head>
    <title>Expy</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <link href="https://fonts.googleapis.com/css?family=Kaushan+Script|Open+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Bungee+Shade" rel="stylesheet">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="https://fonts.googleapis.com/css?family=Anton" rel="stylesheet">

    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <!-- Our Custom CSS -->
    <link rel="stylesheet" href="style.css">

    <!-- Font Awesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>

  </head>
  
  <div class="top">
   <header>
  
      <nav class="vertical-menu">

        <%# <a class="navbar-brand" href="/">Expy</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" aria-expanded="false" aria-label="Menu">
          <span class="navbar-toggler-icon"></span>
        </button> %>

              <div class="collapse navbar-collapse">
                <ul class="navbar-nav mr-auto">
                 <li class="title">
                    <%= link_to "Expy", root_path, class: "nav-link" %>
                  </li> 
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" data-toggle="dropdown">Shop by Category</a>
                    <div class="dropdown-menu" >
                      <% @categories.each do |category| %>
                        <%= link_to "#{category.category}", category_path(category.id)%>
                      <% end %>
                    </div>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" data-toggle="dropdown">Shop by Merchant</a>
                    <div class="dropdown-menu" >
                      <% unless @merchants == nil%>
                        <% @merchants.each do |merchant| %>
                          <%= link_to "#{merchant.username}", merchant_path(merchant.id) %>
                        <% end %>
                      <%end%>
                    </div>
                     <li class="nav-item">
                    <%= link_to "Shop All", products_path, class: "nav-link" %>
                  </li>
                  </li>

                  <li class="nav-item">
                    <% if session[:merchant_id] %>
                      <%= link_to "Dashboard: #{session[:username]}", merchant_path(session[:merchant_id]) %>
                    <% end %>
                  </li>
                </ul>
                <ul class="navbar-nav mr-auto">
                  <% if session[:user_id] %>
                    <li class="nav-item">
                      <%= link_to "Log Out", logout_path, method: "delete" %></li>
                  <% else %>
                    <li class="nav-item">
                      <%= link_to "Login", login_path %></li>
                  <% end %>
                  </ul>
               </div>
  </nav>

  <body>
    
    <%= yield %>
  </body>

</html>
